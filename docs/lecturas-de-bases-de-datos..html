<!DOCTYPE html>
<html lang="es" xml:lang="es">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9.2 Lecturas de bases de datos. | Estimación de la tasa de informalidad en República Dominicana empleando modelos de área con transformación arcoseno</title>
  <meta name="description" content="Documentos con la descripción del proceso de compilación en R." />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="9.2 Lecturas de bases de datos. | Estimación de la tasa de informalidad en República Dominicana empleando modelos de área con transformación arcoseno" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Documentos con la descripción del proceso de compilación en R." />
  <meta name="github-repo" content="psirusteam/HHS-Handbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9.2 Lecturas de bases de datos. | Estimación de la tasa de informalidad en República Dominicana empleando modelos de área con transformación arcoseno" />
  
  <meta name="twitter:description" content="Documentos con la descripción del proceso de compilación en R." />
  



<meta name="date" content="2023-03-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lectura-de-librerías-5.html"/>
<link rel="next" href="resultados-finales.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Informe de resultados para República Dominicana</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefacio</a></li>
<li class="chapter" data-level="1" data-path="uso-de-imágenes-satelitales-y-sae.html"><a href="uso-de-imágenes-satelitales-y-sae.html"><i class="fa fa-check"></i><b>1</b> Uso de imágenes satelitales y SAE</a>
<ul>
<li class="chapter" data-level="1.1" data-path="fuentes-de-datos-de-imágenes-satelitales.html"><a href="fuentes-de-datos-de-imágenes-satelitales.html"><i class="fa fa-check"></i><b>1.1</b> Fuentes de datos de imágenes satelitales</a></li>
<li class="chapter" data-level="1.2" data-path="google-earth-eninge.html"><a href="google-earth-eninge.html"><i class="fa fa-check"></i><b>1.2</b> Google Earth Eninge</a></li>
<li class="chapter" data-level="1.3" data-path="instalación-de-rgee.html"><a href="instalación-de-rgee.html"><i class="fa fa-check"></i><b>1.3</b> Instalación de rgee</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="descarga-de-imágenes-satelitales-y-validación-de-visual.html"><a href="descarga-de-imágenes-satelitales-y-validación-de-visual.html"><i class="fa fa-check"></i><b>2</b> Descarga de imágenes satelitales y validación de visual</a>
<ul>
<li class="chapter" data-level="2.1" data-path="librerias-requeridas.html"><a href="librerias-requeridas.html"><i class="fa fa-check"></i><b>2.1</b> Librerias requeridas</a></li>
<li class="chapter" data-level="2.2" data-path="inicializando-google-earth-engine-desde-r.html"><a href="inicializando-google-earth-engine-desde-r.html"><i class="fa fa-check"></i><b>2.2</b> Inicializando Google Earth Engine desde R</a></li>
<li class="chapter" data-level="2.3" data-path="descarga-de-información-del-satélite-a-nivel-distrito..html"><a href="descarga-de-información-del-satélite-a-nivel-distrito..html"><i class="fa fa-check"></i><b>2.3</b> Descarga de información del Satélite a nivel distrito.</a></li>
<li class="chapter" data-level="2.4" data-path="descarga-de-información-satélite-a-nivel-municipal.html"><a href="descarga-de-información-satélite-a-nivel-municipal.html"><i class="fa fa-check"></i><b>2.4</b> Descarga de información Satélite a nivel municipal</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="descarga-de-información-satélite-a-nivel-municipal.html"><a href="descarga-de-información-satélite-a-nivel-municipal.html#luces-nocturnas"><i class="fa fa-check"></i><b>2.4.1</b> Luces nocturnas</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="cubrimiento-de-suelo-urbano-y-cubrimiento-de-suelo-cultivos.html"><a href="cubrimiento-de-suelo-urbano-y-cubrimiento-de-suelo-cultivos.html"><i class="fa fa-check"></i><b>2.5</b> Cubrimiento de suelo urbano y cubrimiento de suelo cultivos</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="cubrimiento-de-suelo-urbano-y-cubrimiento-de-suelo-cultivos.html"><a href="cubrimiento-de-suelo-urbano-y-cubrimiento-de-suelo-cultivos.html#medida-de-resumen-la-media-1"><i class="fa fa-check"></i><b>2.5.1</b> Medida de resumen la media</a></li>
<li class="chapter" data-level="2.5.2" data-path="cubrimiento-de-suelo-urbano-y-cubrimiento-de-suelo-cultivos.html"><a href="cubrimiento-de-suelo-urbano-y-cubrimiento-de-suelo-cultivos.html#medida-de-resumen-suma-1"><i class="fa fa-check"></i><b>2.5.2</b> Medida de resumen suma</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="distancia-a-hospitales.html"><a href="distancia-a-hospitales.html"><i class="fa fa-check"></i><b>2.6</b> Distancia a hospitales</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="distancia-a-hospitales.html"><a href="distancia-a-hospitales.html#medida-de-resumen-la-media-2"><i class="fa fa-check"></i><b>2.6.1</b> Medida de resumen la media</a></li>
<li class="chapter" data-level="2.6.2" data-path="distancia-a-hospitales.html"><a href="distancia-a-hospitales.html#medida-de-resumen-suma-2"><i class="fa fa-check"></i><b>2.6.2</b> Medida de resumen suma</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="csp-ghm-global-human-modification.html"><a href="csp-ghm-global-human-modification.html"><i class="fa fa-check"></i><b>2.7</b> CSP gHM: Global Human Modification</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="csp-ghm-global-human-modification.html"><a href="csp-ghm-global-human-modification.html#medida-de-resumen-la-media-3"><i class="fa fa-check"></i><b>2.7.1</b> Medida de resumen la media</a></li>
<li class="chapter" data-level="2.7.2" data-path="csp-ghm-global-human-modification.html"><a href="csp-ghm-global-human-modification.html#medida-de-resumen-suma-3"><i class="fa fa-check"></i><b>2.7.2</b> Medida de resumen suma</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="consolidando-las-variables-satelitales.html"><a href="consolidando-las-variables-satelitales.html"><i class="fa fa-check"></i><b>2.8</b> Consolidando las variables satelitales</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="consolidando-las-variables-satelitales.html"><a href="consolidando-las-variables-satelitales.html#medida-de-resumen-la-media-4"><i class="fa fa-check"></i><b>2.8.1</b> Medida de resumen la media</a></li>
<li class="chapter" data-level="2.8.2" data-path="consolidando-las-variables-satelitales.html"><a href="consolidando-las-variables-satelitales.html#medida-de-resumen-suma-4"><i class="fa fa-check"></i><b>2.8.2</b> Medida de resumen suma</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html"><i class="fa fa-check"></i><b>2.9</b> Creando mapas de las variables satelitales</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html#modificacion-humana"><i class="fa fa-check"></i><b>2.9.1</b> Modificacion humana</a></li>
<li class="chapter" data-level="2.9.2" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html#accesibilidad-hospitales-caminado"><i class="fa fa-check"></i><b>2.9.2</b> Accesibilidad hospitales caminado</a></li>
<li class="chapter" data-level="2.9.3" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html#accesibilidad-hospitales"><i class="fa fa-check"></i><b>2.9.3</b> Accesibilidad hospitales</a></li>
<li class="chapter" data-level="2.9.4" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html#cubrimiento-urbano"><i class="fa fa-check"></i><b>2.9.4</b> Cubrimiento urbano</a></li>
<li class="chapter" data-level="2.9.5" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html#cubrimiento-cultivo"><i class="fa fa-check"></i><b>2.9.5</b> Cubrimiento cultivo</a></li>
<li class="chapter" data-level="2.9.6" data-path="creando-mapas-de-las-variables-satelitales.html"><a href="creando-mapas-de-las-variables-satelitales.html#luces-nocturnas-1"><i class="fa fa-check"></i><b>2.9.6</b> Luces nocturnas</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="correlación-estimación-directa.html"><a href="correlación-estimación-directa.html"><i class="fa fa-check"></i><b>2.10</b> Correlación estimación directa</a></li>
<li class="chapter" data-level="2.11" data-path="estimaciones-directas.html"><a href="estimaciones-directas.html"><i class="fa fa-check"></i><b>2.11</b> Estimaciones directas</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="estimaciones-directas.html"><a href="estimaciones-directas.html#correlación-de-las-variables-satelital"><i class="fa fa-check"></i><b>2.11.1</b> Correlación de las variables satelital</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="información-auxiliar-en-el-modelo.html"><a href="información-auxiliar-en-el-modelo.html"><i class="fa fa-check"></i><b>2.12</b> Información auxiliar en el modelo</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estandarizar-insumos.html"><a href="estandarizar-insumos.html"><i class="fa fa-check"></i><b>3</b> Estandarizar insumos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="lectura-de-librerias.html"><a href="lectura-de-librerias.html"><i class="fa fa-check"></i><b>3.1</b> Lectura de librerias</a></li>
<li class="chapter" data-level="3.2" data-path="lectura-de-encuesta..html"><a href="lectura-de-encuesta..html"><i class="fa fa-check"></i><b>3.2</b> Lectura de encuesta.</a></li>
<li class="chapter" data-level="3.3" data-path="lectura-de-información-auxiliar-covariable.html"><a href="lectura-de-información-auxiliar-covariable.html"><i class="fa fa-check"></i><b>3.3</b> Lectura de información auxiliar (covariable)</a></li>
<li class="chapter" data-level="3.4" data-path="otra-fuente-de-información.html"><a href="otra-fuente-de-información.html"><i class="fa fa-check"></i><b>3.4</b> Otra fuente de información</a></li>
<li class="chapter" data-level="3.5" data-path="definiendo-el-identificador-de-dominio-en-la-shapefile..html"><a href="definiendo-el-identificador-de-dominio-en-la-shapefile..html"><i class="fa fa-check"></i><b>3.5</b> Definiendo el identificador de dominio en la shapefile.</a></li>
<li class="chapter" data-level="3.6" data-path="validando-id_dominio.html"><a href="validando-id_dominio.html"><i class="fa fa-check"></i><b>3.6</b> Validando id_dominio</a></li>
<li class="chapter" data-level="3.7" data-path="guardar-archivos.html"><a href="guardar-archivos.html"><i class="fa fa-check"></i><b>3.7</b> Guardar archivos</a></li>
<li class="chapter" data-level="3.8" data-path="agregados-censales-municipios-y-región..html"><a href="agregados-censales-municipios-y-región..html"><i class="fa fa-check"></i><b>3.8</b> Agregados censales (municipios y región).</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="estimación-de-directa-por-dominios.html"><a href="estimación-de-directa-por-dominios.html"><i class="fa fa-check"></i><b>4</b> Estimación de directa por dominios</a>
<ul>
<li class="chapter" data-level="4.1" data-path="lectura-de-librerías.html"><a href="lectura-de-librerías.html"><i class="fa fa-check"></i><b>4.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="4.2" data-path="lectura-de-la-encuesta-y-definición-de-parámetros.html"><a href="lectura-de-la-encuesta-y-definición-de-parámetros.html"><i class="fa fa-check"></i><b>4.2</b> Lectura de la encuesta y definición de parámetros</a></li>
<li class="chapter" data-level="4.3" data-path="definición-del-diseño-muestral-con-la-libreria-survey.html"><a href="definición-del-diseño-muestral-con-la-libreria-survey.html"><i class="fa fa-check"></i><b>4.3</b> Definición del diseño muestral con la libreria survey</a></li>
<li class="chapter" data-level="4.4" data-path="calculo-del-indicador.html"><a href="calculo-del-indicador.html"><i class="fa fa-check"></i><b>4.4</b> Calculo del indicador</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="calculo-del-indicador.html"><a href="calculo-del-indicador.html#guardar-resultado-de-la-estimación-directa"><i class="fa fa-check"></i><b>4.4.1</b> Guardar resultado de la estimación directa</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="función-generalizada-de-varianza.html"><a href="función-generalizada-de-varianza.html"><i class="fa fa-check"></i><b>5</b> Función generalizada de varianza</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lectura-de-librerías-1.html"><a href="lectura-de-librerías-1.html"><i class="fa fa-check"></i><b>5.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="5.2" data-path="lectura-del-la-base-de-datos.html"><a href="lectura-del-la-base-de-datos.html"><i class="fa fa-check"></i><b>5.2</b> Lectura del la base de datos</a></li>
<li class="chapter" data-level="5.3" data-path="lectura-de-las-estimaciones-directas-del-indicador.html"><a href="lectura-de-las-estimaciones-directas-del-indicador.html"><i class="fa fa-check"></i><b>5.3</b> Lectura de las estimaciones directas del indicador</a></li>
<li class="chapter" data-level="5.4" data-path="gráficas-exploratorias.html"><a href="gráficas-exploratorias.html"><i class="fa fa-check"></i><b>5.4</b> Gráficas exploratorias</a></li>
<li class="chapter" data-level="5.5" data-path="ajustando-el-modelo-log-lineal-de-la-varianza.html"><a href="ajustando-el-modelo-log-lineal-de-la-varianza.html"><i class="fa fa-check"></i><b>5.5</b> Ajustando el modelo log-lineal de la varianza</a></li>
<li class="chapter" data-level="5.6" data-path="validaciones-sobre-el-modelo.html"><a href="validaciones-sobre-el-modelo.html"><i class="fa fa-check"></i><b>5.6</b> Validaciones sobre el modelo</a></li>
<li class="chapter" data-level="5.7" data-path="otras-validaciones-sobre-el-resultado-del-modelo..html"><a href="otras-validaciones-sobre-el-resultado-del-modelo..html"><i class="fa fa-check"></i><b>5.7</b> Otras validaciones sobre el resultado del modelo.</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="estimación-del-modelo-de-área.html"><a href="estimación-del-modelo-de-área.html"><i class="fa fa-check"></i><b>6</b> Estimación del modelo de área</a>
<ul>
<li class="chapter" data-level="6.1" data-path="lectura-de-librerías-2.html"><a href="lectura-de-librerías-2.html"><i class="fa fa-check"></i><b>6.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="6.2" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html"><i class="fa fa-check"></i><b>6.2</b> Lectura de bases de datos</a></li>
<li class="chapter" data-level="6.3" data-path="consolidando-las-bases-de-datos..html"><a href="consolidando-las-bases-de-datos..html"><i class="fa fa-check"></i><b>6.3</b> Consolidando las bases de datos.</a></li>
<li class="chapter" data-level="6.4" data-path="estimando-el-modelo-de-área-con-transformación-arcoseno.html"><a href="estimando-el-modelo-de-área-con-transformación-arcoseno.html"><i class="fa fa-check"></i><b>6.4</b> Estimando el modelo de área con transformación arcoseno</a></li>
<li class="chapter" data-level="6.5" data-path="estimaciones-de-los-dominios-a-partir-del-modelo..html"><a href="estimaciones-de-los-dominios-a-partir-del-modelo..html"><i class="fa fa-check"></i><b>6.5</b> Estimaciones de los dominios a partir del modelo.</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="validación-del-modelo-de-área.html"><a href="validación-del-modelo-de-área.html"><i class="fa fa-check"></i><b>7</b> Validación del modelo de área</a>
<ul>
<li class="chapter" data-level="7.1" data-path="lectura-de-librerías-3.html"><a href="lectura-de-librerías-3.html"><i class="fa fa-check"></i><b>7.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="7.2" data-path="leer-bases-de-datos.html"><a href="leer-bases-de-datos.html"><i class="fa fa-check"></i><b>7.2</b> Leer bases de datos</a></li>
<li class="chapter" data-level="7.3" data-path="análisis-de-residuales-y-efectos-aleatorios.html"><a href="análisis-de-residuales-y-efectos-aleatorios.html"><i class="fa fa-check"></i><b>7.3</b> Análisis de residuales y efectos aleatorios</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="análisis-de-residuales-y-efectos-aleatorios.html"><a href="análisis-de-residuales-y-efectos-aleatorios.html#qq-plots"><i class="fa fa-check"></i><b>7.3.1</b> QQ plots</a></li>
<li class="chapter" data-level="7.3.2" data-path="análisis-de-residuales-y-efectos-aleatorios.html"><a href="análisis-de-residuales-y-efectos-aleatorios.html#densidades"><i class="fa fa-check"></i><b>7.3.2</b> Densidades</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="coeficiente-de-determinación.html"><a href="coeficiente-de-determinación.html"><i class="fa fa-check"></i><b>7.4</b> Coeficiente de determinación</a></li>
<li class="chapter" data-level="7.5" data-path="validaciones-en-relación-al-tamaño-de-la-muestra.html"><a href="validaciones-en-relación-al-tamaño-de-la-muestra.html"><i class="fa fa-check"></i><b>7.5</b> Validaciones en relación al tamaño de la muestra</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="validaciones-en-relación-al-tamaño-de-la-muestra.html"><a href="validaciones-en-relación-al-tamaño-de-la-muestra.html#distancias-de-cook"><i class="fa fa-check"></i><b>7.5.1</b> Distancias de Cook</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html"><i class="fa fa-check"></i><b>7.6</b> Análisis gráfico</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#coeficiente-de-variación-y-rrmse"><i class="fa fa-check"></i><b>7.6.1</b> Coeficiente de variación y RRMSE</a></li>
<li class="chapter" data-level="7.6.2" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#error-estándar-y-rrmse"><i class="fa fa-check"></i><b>7.6.2</b> Error estándar y RRMSE</a></li>
<li class="chapter" data-level="7.6.3" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#boxplot-cv-directo"><i class="fa fa-check"></i><b>7.6.3</b> Boxplot: CV Directo</a></li>
<li class="chapter" data-level="7.6.4" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#boxplot-cv-directo-y-rrmse-fh-observados"><i class="fa fa-check"></i><b>7.6.4</b> Boxplot: CV Directo y RRMSE FH (observados)</a></li>
<li class="chapter" data-level="7.6.5" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#boxplot-cv-directo-y-rrmse-fh"><i class="fa fa-check"></i><b>7.6.5</b> Boxplot: CV Directo y RRMSE FH</a></li>
<li class="chapter" data-level="7.6.6" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#boxplot-error-estándar-directo-y-rmse-fh-observados"><i class="fa fa-check"></i><b>7.6.6</b> Boxplot: Error estándar Directo y RMSE FH (observados)</a></li>
<li class="chapter" data-level="7.6.7" data-path="análisis-gráfico.html"><a href="análisis-gráfico.html#boxplot-error-estándar-directo-y-rmse-fh"><i class="fa fa-check"></i><b>7.6.7</b> Boxplot: Error estándar Directo y RMSE FH</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="matriz-vecinos-cercanos.html"><a href="matriz-vecinos-cercanos.html"><i class="fa fa-check"></i><b>7.7</b> Matriz vecinos cercanos</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="benchmark-regional-para-las-estimaciones-del-modelo-de-área.html"><a href="benchmark-regional-para-las-estimaciones-del-modelo-de-área.html"><i class="fa fa-check"></i><b>8</b> Benchmark regional para las estimaciones del modelo de área</a>
<ul>
<li class="chapter" data-level="8.1" data-path="lectura-de-librerías-4.html"><a href="lectura-de-librerías-4.html"><i class="fa fa-check"></i><b>8.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="8.2" data-path="lectura-de-bases-de-datos-1.html"><a href="lectura-de-bases-de-datos-1.html"><i class="fa fa-check"></i><b>8.2</b> Lectura de bases de datos</a></li>
<li class="chapter" data-level="8.3" data-path="estimación-directa-por-región.html"><a href="estimación-directa-por-región.html"><i class="fa fa-check"></i><b>8.3</b> Estimación directa por región</a></li>
<li class="chapter" data-level="8.4" data-path="consolidación-de-la-base-de-datos.html"><a href="consolidación-de-la-base-de-datos.html"><i class="fa fa-check"></i><b>8.4</b> Consolidación de la base de datos</a></li>
<li class="chapter" data-level="8.5" data-path="pesos-benchmark.html"><a href="pesos-benchmark.html"><i class="fa fa-check"></i><b>8.5</b> Pesos Benchmark</a></li>
<li class="chapter" data-level="8.6" data-path="estimación-fh-benchmark.html"><a href="estimación-fh-benchmark.html"><i class="fa fa-check"></i><b>8.6</b> Estimación FH Benchmark</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="estimación-fh-benchmark.html"><a href="estimación-fh-benchmark.html#validación-estimación-fh-con-benchmark"><i class="fa fa-check"></i><b>8.6.1</b> Validación: Estimación FH con Benchmark</a></li>
<li class="chapter" data-level="8.6.2" data-path="estimación-fh-benchmark.html"><a href="estimación-fh-benchmark.html#comparación-gráfica-entre-estimación-fh-y-fh-con-benchmark-por-dominio"><i class="fa fa-check"></i><b>8.6.2</b> Comparación gráfica entre estimación FH y FH con Benchmark por dominio</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="tabla-final-de-estimaciones.html"><a href="tabla-final-de-estimaciones.html"><i class="fa fa-check"></i><b>8.7</b> Tabla final de estimaciones</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="tabla-final-de-estimaciones.html"><a href="tabla-final-de-estimaciones.html#función-para-el-calculo-de-intervalos-de-confianza"><i class="fa fa-check"></i><b>8.7.1</b> Función para el calculo de intervalos de confianza</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="creando-mapa-de-resultados.html"><a href="creando-mapa-de-resultados.html"><i class="fa fa-check"></i><b>8.8</b> Creando mapa de resultados</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="gráfico-comparativo-de-las-estimaciones..html"><a href="gráfico-comparativo-de-las-estimaciones..html"><i class="fa fa-check"></i><b>9</b> Gráfico comparativo de las estimaciones.</a>
<ul>
<li class="chapter" data-level="9.1" data-path="lectura-de-librerías-5.html"><a href="lectura-de-librerías-5.html"><i class="fa fa-check"></i><b>9.1</b> Lectura de librerías</a></li>
<li class="chapter" data-level="9.2" data-path="lecturas-de-bases-de-datos..html"><a href="lecturas-de-bases-de-datos..html"><i class="fa fa-check"></i><b>9.2</b> Lecturas de bases de datos.</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="resultados-finales.html"><a href="resultados-finales.html"><i class="fa fa-check"></i><b>10</b> Resultados finales</a></li>
<li class="divider"></li>
<li><a Informe de resultados para República Dominicana </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estimación de la tasa de informalidad en República Dominicana empleando modelos de área con transformación arcoseno</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lecturas-de-bases-de-datos." class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Lecturas de bases de datos.<a href="lecturas-de-bases-de-datos..html#lecturas-de-bases-de-datos." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El bloque de código carga tres archivos de datos en R:</p>
<ul>
<li><code>encuestaDOM.Rds</code>: es utilizado para obtener las estimaciones directas de la región.</li>
<li><code>estimacionesPre.Rds</code>: contiene estimaciones previas, sin embargo solo son seleccionadas las columnas <code>id_region</code>, <code>id_dominio</code> y <code>W_i</code> que son útiles para la construcción del gráfico.</li>
<li><code>TablaFinal.Rds</code>: contiene las estimaciones directas, sintéticas, Fay Harriot y Fay Harriot con benchmarking. Primero se carga el archivo y luego se realiza una unión interna (<code>inner_join()</code>) con el archivo <code>estimacionesPre</code> por la variable <code>id_dominio</code>.</li>
</ul>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="lecturas-de-bases-de-datos..html#cb126-1" aria-hidden="true" tabindex="-1"></a>encuestaDOM <span class="ot">&lt;-</span>  <span class="fu">readRDS</span>(<span class="st">&quot;../Data/encuestaDOM.Rds&quot;</span>)</span>
<span id="cb126-2"><a href="lecturas-de-bases-de-datos..html#cb126-2" aria-hidden="true" tabindex="-1"></a>estimacionesPre <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&#39;../Data/estimacionesBench.Rds&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb126-3"><a href="lecturas-de-bases-de-datos..html#cb126-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(id_region, id_dominio, W_i)</span>
<span id="cb126-4"><a href="lecturas-de-bases-de-datos..html#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="lecturas-de-bases-de-datos..html#cb126-5" aria-hidden="true" tabindex="-1"></a>TablaFinal <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&#39;../Data/TablaFinal.Rds&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb126-6"><a href="lecturas-de-bases-de-datos..html#cb126-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(estimacionesPre, <span class="at">by =</span> <span class="st">&quot;id_dominio&quot;</span>)</span></code></pre></div>
<p>Este bloque de código calcula las estimaciones agregadas por región a partir de la tabla <code>TablaFinal</code>, que contiene las estimaciones sintéticas y de Fay Harriot para cada dominio, junto con su peso <code>W_i</code>. Primero, la tabla se agrupa por <code>id_region</code>. Luego, para cada región, se calcula la suma ponderada de las estimaciones sintéticas (<code>sintetico_back</code>) y de Fay Harriot (<code>FH_RBench</code> y <code>FayHerriot</code>) utilizando los pesos <code>W_i</code>. Las tres estimaciones se presentan en la tabla final <code>estimaciones_agregada</code>.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="lecturas-de-bases-de-datos..html#cb127-1" aria-hidden="true" tabindex="-1"></a>estimaciones_agregada <span class="ot">&lt;-</span> TablaFinal <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb127-2"><a href="lecturas-de-bases-de-datos..html#cb127-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id_region) <span class="sc">%&gt;%</span> </span>
<span id="cb127-3"><a href="lecturas-de-bases-de-datos..html#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb127-4"><a href="lecturas-de-bases-de-datos..html#cb127-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Sintetico=</span><span class="fu">sum</span>(W_i<span class="sc">*</span>sintetico_back),</span>
<span id="cb127-5"><a href="lecturas-de-bases-de-datos..html#cb127-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">FH_bench=</span><span class="fu">sum</span>(W_i<span class="sc">*</span>FH_RBench),</span>
<span id="cb127-6"><a href="lecturas-de-bases-de-datos..html#cb127-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">FH =</span> <span class="fu">sum</span>(W_i<span class="sc">*</span>FayHerriot)</span>
<span id="cb127-7"><a href="lecturas-de-bases-de-datos..html#cb127-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb127-8"><a href="lecturas-de-bases-de-datos..html#cb127-8" aria-hidden="true" tabindex="-1"></a><span class="fu">tba</span>(estimaciones_agregada)</span></code></pre></div>
<table class="table table-striped lightable-classic" style="width: auto !important; margin-left: auto; margin-right: auto; font-family: Arial Narrow; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
id_region
</th>
<th style="text-align:right;">
Sintetico
</th>
<th style="text-align:right;">
FH_bench
</th>
<th style="text-align:right;">
FH
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:right;">
0.4355
</td>
<td style="text-align:right;">
0.4331
</td>
<td style="text-align:right;">
0.4355
</td>
</tr>
<tr>
<td style="text-align:left;">
02
</td>
<td style="text-align:right;">
0.5340
</td>
<td style="text-align:right;">
0.5231
</td>
<td style="text-align:right;">
0.5339
</td>
</tr>
<tr>
<td style="text-align:left;">
03
</td>
<td style="text-align:right;">
0.5656
</td>
<td style="text-align:right;">
0.5566
</td>
<td style="text-align:right;">
0.5656
</td>
</tr>
<tr>
<td style="text-align:left;">
04
</td>
<td style="text-align:right;">
0.4791
</td>
<td style="text-align:right;">
0.4685
</td>
<td style="text-align:right;">
0.4791
</td>
</tr>
</tbody>
</table>
<p>En este bloque de código se realizan las siguientes acciones:</p>
<ul>
<li>Se agrega ceros a la izquierda de las variables <code>upm</code> y <code>estrato</code> para que tengan una longitud de 9 y 5 dígitos, respectivamente.</li>
<li>Se crea un objeto <code>disenoDOM</code> con el diseño de la encuesta, utilizando la función <code>as_survey_design()</code> de la librería survey. Se especifica que el estrato es la variable <code>estrato</code>, la unidad primaria de muestreo (UPM) es la variable <code>upm</code> y el peso muestral es la variable <code>factor_anual</code>. Además, se utiliza el argumento <code>nest=T</code> para indicar que las UPM están anidadas.</li>
<li>Se estima el indicador directo para cada región. Para ello, se agrupan <code>id_region</code> y se utiliza la función <code>summarise()</code> para calcular el tamaño de la muestra (<code>n</code>) y la razón de diseño (<code>Rd</code>) utilizando la función <code>survey_ratio()</code> de la librería <code>survey</code>.</li>
</ul>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="lecturas-de-bases-de-datos..html#cb128-1" aria-hidden="true" tabindex="-1"></a>encuestaDOM <span class="ot">&lt;-</span></span>
<span id="cb128-2"><a href="lecturas-de-bases-de-datos..html#cb128-2" aria-hidden="true" tabindex="-1"></a>  encuestaDOM <span class="sc">%&gt;%</span></span>
<span id="cb128-3"><a href="lecturas-de-bases-de-datos..html#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb128-4"><a href="lecturas-de-bases-de-datos..html#cb128-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">upm =</span> <span class="fu">str_pad</span>(<span class="at">string =</span> upm,<span class="at">width =</span> <span class="dv">9</span>,<span class="at">pad =</span> <span class="st">&quot;0&quot;</span>),</span>
<span id="cb128-5"><a href="lecturas-de-bases-de-datos..html#cb128-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">estrato =</span> <span class="fu">str_pad</span>(<span class="at">string =</span> estrato,<span class="at">width =</span> <span class="dv">5</span>,<span class="at">pad =</span> <span class="st">&quot;0&quot;</span>),</span>
<span id="cb128-6"><a href="lecturas-de-bases-de-datos..html#cb128-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">factor_anual =</span> factor_expansion <span class="sc">/</span> <span class="dv">4</span></span>
<span id="cb128-7"><a href="lecturas-de-bases-de-datos..html#cb128-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb128-8"><a href="lecturas-de-bases-de-datos..html#cb128-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-9"><a href="lecturas-de-bases-de-datos..html#cb128-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Creación de objeto diseno--------------------------------------- </span></span>
<span id="cb128-10"><a href="lecturas-de-bases-de-datos..html#cb128-10" aria-hidden="true" tabindex="-1"></a>disenoDOM <span class="ot">&lt;-</span> encuestaDOM <span class="sc">%&gt;%</span></span>
<span id="cb128-11"><a href="lecturas-de-bases-de-datos..html#cb128-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_survey_design</span>(</span>
<span id="cb128-12"><a href="lecturas-de-bases-de-datos..html#cb128-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">strata =</span> estrato,</span>
<span id="cb128-13"><a href="lecturas-de-bases-de-datos..html#cb128-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">ids =</span> upm,</span>
<span id="cb128-14"><a href="lecturas-de-bases-de-datos..html#cb128-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">weights =</span> factor_anual,</span>
<span id="cb128-15"><a href="lecturas-de-bases-de-datos..html#cb128-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">nest=</span>T</span>
<span id="cb128-16"><a href="lecturas-de-bases-de-datos..html#cb128-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb128-17"><a href="lecturas-de-bases-de-datos..html#cb128-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-18"><a href="lecturas-de-bases-de-datos..html#cb128-18" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo del indicador ----------------</span></span>
<span id="cb128-19"><a href="lecturas-de-bases-de-datos..html#cb128-19" aria-hidden="true" tabindex="-1"></a>indicador_dir <span class="ot">&lt;-</span></span>
<span id="cb128-20"><a href="lecturas-de-bases-de-datos..html#cb128-20" aria-hidden="true" tabindex="-1"></a>  disenoDOM <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(id_region) <span class="sc">%&gt;%</span></span>
<span id="cb128-21"><a href="lecturas-de-bases-de-datos..html#cb128-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ocupado <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> pet <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb128-22"><a href="lecturas-de-bases-de-datos..html#cb128-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb128-23"><a href="lecturas-de-bases-de-datos..html#cb128-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> <span class="fu">unweighted</span>(<span class="fu">n</span>()),</span>
<span id="cb128-24"><a href="lecturas-de-bases-de-datos..html#cb128-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">Rd =</span> <span class="fu">survey_ratio</span>(</span>
<span id="cb128-25"><a href="lecturas-de-bases-de-datos..html#cb128-25" aria-hidden="true" tabindex="-1"></a>      <span class="at">numerator =</span> orden_sector <span class="sc">==</span> <span class="dv">2</span> ,</span>
<span id="cb128-26"><a href="lecturas-de-bases-de-datos..html#cb128-26" aria-hidden="true" tabindex="-1"></a>      <span class="at">denominator =</span> <span class="dv">1</span>,</span>
<span id="cb128-27"><a href="lecturas-de-bases-de-datos..html#cb128-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">vartype =</span> <span class="fu">c</span>(<span class="st">&quot;se&quot;</span>, <span class="st">&quot;ci&quot;</span>),</span>
<span id="cb128-28"><a href="lecturas-de-bases-de-datos..html#cb128-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">deff =</span> F</span>
<span id="cb128-29"><a href="lecturas-de-bases-de-datos..html#cb128-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb128-30"><a href="lecturas-de-bases-de-datos..html#cb128-30" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Este bloque de código realiza lo siguiente:</p>
<ul>
<li>Primero, se une el objeto estimaciones_agregada que contiene las estimaciones de los métodos sintético, FH benchmark y FH, con el objeto <code>indicador_dir</code> que contiene el indicador directo para cada región.</li>
<li>Luego, se seleccionan las columnas necesarias para el gráfico y se transforma el formato de las columnas usando la función<code>gather()</code> para tener los valores de las estimaciones en una sola columna y el nombre del método en otra columna. Además, se cambia el nombre de los métodos para que sean más descriptivos.
Finalmente, se crean los límites del intervalo de confianza para el indicador directo y se guardan en el objeto <code>lims_IC</code>.</li>
</ul>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="lecturas-de-bases-de-datos..html#cb129-1" aria-hidden="true" tabindex="-1"></a>data_plot <span class="ot">&lt;-</span> <span class="fu">left_join</span>(estimaciones_agregada, </span>
<span id="cb129-2"><a href="lecturas-de-bases-de-datos..html#cb129-2" aria-hidden="true" tabindex="-1"></a>                       indicador_dir, <span class="at">by =</span> <span class="st">&#39;id_region&#39;</span>)  <span class="sc">%&gt;%</span> <span class="fu">data.frame</span>()</span>
<span id="cb129-3"><a href="lecturas-de-bases-de-datos..html#cb129-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-4"><a href="lecturas-de-bases-de-datos..html#cb129-4" aria-hidden="true" tabindex="-1"></a>temp <span class="ot">&lt;-</span> data_plot <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Rd_low, <span class="sc">-</span>Rd_upp,<span class="sc">-</span>Rd_se) <span class="sc">%&gt;%</span></span>
<span id="cb129-5"><a href="lecturas-de-bases-de-datos..html#cb129-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">&quot;Estimacion&quot;</span>,<span class="at">value =</span> <span class="st">&quot;value&quot;</span>, <span class="sc">-</span>n,<span class="sc">-</span>id_region) <span class="sc">%&gt;%</span> </span>
<span id="cb129-6"><a href="lecturas-de-bases-de-datos..html#cb129-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Estimacion =</span> <span class="fu">case_when</span>(Estimacion <span class="sc">==</span> <span class="st">&quot;FH&quot;</span> <span class="sc">~</span> <span class="st">&quot;Fay Harriot&quot;</span>,</span>
<span id="cb129-7"><a href="lecturas-de-bases-de-datos..html#cb129-7" aria-hidden="true" tabindex="-1"></a>                                Estimacion <span class="sc">==</span> <span class="st">&quot;FH_bench&quot;</span> <span class="sc">~</span> <span class="st">&quot;FH bench&quot;</span>,</span>
<span id="cb129-8"><a href="lecturas-de-bases-de-datos..html#cb129-8" aria-hidden="true" tabindex="-1"></a>                                Estimacion <span class="sc">==</span> <span class="st">&quot;Rd&quot;</span><span class="sc">~</span> <span class="st">&quot;Directo&quot;</span>,</span>
<span id="cb129-9"><a href="lecturas-de-bases-de-datos..html#cb129-9" aria-hidden="true" tabindex="-1"></a>                                      <span class="cn">TRUE</span> <span class="sc">~</span> Estimacion))</span>
<span id="cb129-10"><a href="lecturas-de-bases-de-datos..html#cb129-10" aria-hidden="true" tabindex="-1"></a>lims_IC <span class="ot">&lt;-</span>  data_plot <span class="sc">%&gt;%</span></span>
<span id="cb129-11"><a href="lecturas-de-bases-de-datos..html#cb129-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(n,id_region,<span class="at">value =</span> Rd, Rd_low, Rd_upp) <span class="sc">%&gt;%</span> </span>
<span id="cb129-12"><a href="lecturas-de-bases-de-datos..html#cb129-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Estimacion =</span> <span class="st">&quot;Directo&quot;</span>)</span></code></pre></div>
<p>Este bloque de código grafica las estimaciones de los diferentes métodos, junto con los intervalos de confianza de las estimaciones directas. La función<code>ggplot()</code> de la librería <code>ggplot2</code> se utiliza para crear el gráfico, y se utilizan diferentes capas para agregar diferentes elementos al gráfico.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="lecturas-de-bases-de-datos..html#cb130-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(temp,</span>
<span id="cb130-2"><a href="lecturas-de-bases-de-datos..html#cb130-2" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(</span>
<span id="cb130-3"><a href="lecturas-de-bases-de-datos..html#cb130-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">x =</span> <span class="fu">fct_reorder2</span>(id_region, id_region, n),</span>
<span id="cb130-4"><a href="lecturas-de-bases-de-datos..html#cb130-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">y =</span> value,</span>
<span id="cb130-5"><a href="lecturas-de-bases-de-datos..html#cb130-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">shape =</span> Estimacion,</span>
<span id="cb130-6"><a href="lecturas-de-bases-de-datos..html#cb130-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">color =</span> Estimacion</span>
<span id="cb130-7"><a href="lecturas-de-bases-de-datos..html#cb130-7" aria-hidden="true" tabindex="-1"></a>            )) <span class="sc">+</span></span>
<span id="cb130-8"><a href="lecturas-de-bases-de-datos..html#cb130-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_errorbar</span>(</span>
<span id="cb130-9"><a href="lecturas-de-bases-de-datos..html#cb130-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> lims_IC,</span>
<span id="cb130-10"><a href="lecturas-de-bases-de-datos..html#cb130-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> Rd_low ,</span>
<span id="cb130-11"><a href="lecturas-de-bases-de-datos..html#cb130-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">ymax =</span> Rd_upp, <span class="at">x =</span> id_region),</span>
<span id="cb130-12"><a href="lecturas-de-bases-de-datos..html#cb130-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.2</span>,</span>
<span id="cb130-13"><a href="lecturas-de-bases-de-datos..html#cb130-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">1</span></span>
<span id="cb130-14"><a href="lecturas-de-bases-de-datos..html#cb130-14" aria-hidden="true" tabindex="-1"></a>  )  <span class="sc">+</span></span>
<span id="cb130-15"><a href="lecturas-de-bases-de-datos..html#cb130-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">size =</span> <span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb130-16"><a href="lecturas-de-bases-de-datos..html#cb130-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Región&quot;</span>)</span>
<span id="cb130-17"><a href="lecturas-de-bases-de-datos..html#cb130-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code></pre></div>
<div id="htmlwidget-3dcbba4c1e5984f3f40a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3dcbba4c1e5984f3f40a">{"x":{"data":[{"x":[1,2,3,4],"y":[0.433065959562755,0.523064539343195,0.556554418885329,0.468528753635787],"text":["id_region: 01<br />value: 0.4330660<br />Estimacion: Directo<br />Estimacion: Directo<br />Rd_low: 0.4126795<br />Rd_upp: 0.4534524","id_region: 02<br />value: 0.5230645<br />Estimacion: Directo<br />Estimacion: Directo<br />Rd_low: 0.5041898<br />Rd_upp: 0.5419393","id_region: 03<br />value: 0.5565544<br />Estimacion: Directo<br />Estimacion: Directo<br />Rd_low: 0.5280040<br />Rd_upp: 0.5851048","id_region: 04<br />value: 0.4685288<br />Estimacion: Directo<br />Estimacion: Directo<br />Rd_low: 0.4349671<br />Rd_upp: 0.5020904"],"type":"scatter","mode":"lines","opacity":1,"line":{"color":"transparent"},"error_y":{"array":[0.0203864568185464,0.0188747405188321,0.0285503731928917,0.0335616296172846],"arrayminus":[0.0203864568185464,0.0188747405188321,0.0285503731928917,0.0335616296172846],"type":"data","width":8.00000000000001,"symmetric":false,"color":"rgba(248,118,109,1)"},"name":"Directo","legendgroup":"Directo","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.09988806527108,1.6814863467589,3.05324433427304,4.22267993763089],"y":[0.433068963354325,0.523066561814737,0.556559610478534,0.46852797952971],"text":["fct_reorder2(id_region, id_region, n): 01<br />value: 0.4330660<br />Estimacion: Directo<br />Estimacion: Directo","fct_reorder2(id_region, id_region, n): 02<br />value: 0.5230645<br />Estimacion: Directo<br />Estimacion: Directo","fct_reorder2(id_region, id_region, n): 03<br />value: 0.5565544<br />Estimacion: Directo<br />Estimacion: Directo","fct_reorder2(id_region, id_region, n): 04<br />value: 0.4685288<br />Estimacion: Directo<br />Estimacion: Directo"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":11.3385826771654,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"Directo","legendgroup":"Directo","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.37164073996246,2.36086857672781,2.94972082097083,3.87763158474118],"y":[0.43553171024257,0.533902765134124,0.565617111653576,0.479087065331264],"text":["fct_reorder2(id_region, id_region, n): 01<br />value: 0.4355284<br />Estimacion: Fay Harriot<br />Estimacion: Fay Harriot","fct_reorder2(id_region, id_region, n): 02<br />value: 0.5338985<br />Estimacion: Fay Harriot<br />Estimacion: Fay Harriot","fct_reorder2(id_region, id_region, n): 03<br />value: 0.5656195<br />Estimacion: Fay Harriot<br />Estimacion: Fay Harriot","fct_reorder2(id_region, id_region, n): 04<br />value: 0.4790926<br />Estimacion: Fay Harriot<br />Estimacion: Fay Harriot"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":11.3385826771654,"symbol":"triangle-up","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"Fay Harriot","legendgroup":"Fay Harriot","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1.18356576673687,2.04564237184823,2.81799682918936,3.93806802257895],"y":[0.433059249569666,0.523058448812578,0.556545695673142,0.468530713318628],"text":["fct_reorder2(id_region, id_region, n): 01<br />value: 0.4330660<br />Estimacion: FH bench<br />Estimacion: FH bench","fct_reorder2(id_region, id_region, n): 02<br />value: 0.5230645<br />Estimacion: FH bench<br />Estimacion: FH bench","fct_reorder2(id_region, id_region, n): 03<br />value: 0.5565544<br />Estimacion: FH bench<br />Estimacion: FH bench","fct_reorder2(id_region, id_region, n): 04<br />value: 0.4685288<br />Estimacion: FH bench<br />Estimacion: FH bench"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":11.3385826771654,"symbol":"square","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"FH bench","legendgroup":"FH bench","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.97651881724596,2.05296538677067,3.31601100135595,4.13312988970429],"y":[0.435508328429408,0.533957570855761,0.56557161692897,0.479154529570541],"text":["fct_reorder2(id_region, id_region, n): 01<br />value: 0.4355052<br />Estimacion: Sintetico<br />Estimacion: Sintetico","fct_reorder2(id_region, id_region, n): 02<br />value: 0.5339611<br />Estimacion: Sintetico<br />Estimacion: Sintetico","fct_reorder2(id_region, id_region, n): 03<br />value: 0.5655792<br />Estimacion: Sintetico<br />Estimacion: Sintetico","fct_reorder2(id_region, id_region, n): 04<br />value: 0.4791488<br />Estimacion: Sintetico<br />Estimacion: Sintetico"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":11.3385826771654,"symbol":"cross-thin-open","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"Sintetico","legendgroup":"Sintetico","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.2283105022831,"r":7.30593607305936,"b":40.1826484018265,"l":48.9497716894977},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,4.6],"tickmode":"array","ticktext":["01","02","03","04"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["01","02","03","04"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Región","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.404058238277508,0.593726056544922],"tickmode":"array","ticktext":["0.45","0.50","0.55"],"tickvals":[0.45,0.5,0.55],"categoryorder":"array","categoryarray":["0.45","0.50","0.55"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"value","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"Estimacion","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"1644bf124b4":{"x":{},"y":{},"shape":{},"colour":{},"ymin":{},"ymax":{},"type":"scatter"},"16447ab76bcc":{"x":{},"y":{},"shape":{},"colour":{}}},"cur_data":"1644bf124b4","visdat":{"1644bf124b4":["function (y) ","x"],"16447ab76bcc":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>La capa <code>aes()</code> define la estética de la gráfica. En este caso, se utiliza la variable <code>id_region</code> en el eje x, la variable <code>value</code> en el eje y, y se utiliza el color y la forma de los puntos para distinguir entre los diferentes métodos de estimación. Se utiliza la función <code>fct_reorder2()</code> para ordenar las regiones de manera ascendente según su tamaño muestral <code>n</code>.</p>
<p>La capa <code>geom_errorbar()</code> se utiliza para agregar los intervalos de confianza de las estimaciones directas. Se utiliza el conjunto de datos <code>lims_IC</code> que contiene los límites de los intervalos de confianza. Se utiliza <code>ymin</code> y <code>ymax</code> para definir los límites inferior y superior de las barras de error, respectivamente, y <code>x</code> para definir la ubicación en el eje x de cada intervalo.</p>
<p>La capa <code>geom_jitter()</code> se utiliza para agregar los puntos de las estimaciones de cada método, con un poco de ruido para que no se superpongan.</p>
<p>Finalmente, la capa <code>labs()</code> se utiliza para agregar etiquetas a los ejes del gráfico. En este caso, se utiliza <code>Región</code> para el eje x. El objeto p contiene el gráfico creado.</p>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="lectura-de-librerías-5.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="resultados-finales.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/psirusteam/2021ASDA/09-Grafico_BENCH.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Informe de resultados para República Dominicana.pdf", "Informe de resultados para República Dominicana.epub", "Informe de resultados para República Dominicana.mobi"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
},
"tconfig": null
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
